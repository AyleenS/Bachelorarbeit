\chapter{Definitionen und Notationen}

Die Definitionen dieses Kapitels sind größtenteils aus~\cite{Vogler2014EIO}
übernommen mit den in der Einleitung erwähnten Abänderungen. Hierbei handelt es
sich um die Grundlagen der Transitionssysteme, mit denen hier gearbeitet werden
soll. Die nicht mit den entsprechenden Outputs synchronisierten Inputs der zu
komponierenden \EIO{}s werden als Inputs der Parallelkomposition übernommen.

\section{Error-IO-Transitionssystem}
Die hier betrachteten \EIO{}s sind Systeme, deren Übergänge mit Inputs und
Outputs beschriftet sind. Jeder Übergang ist dabei mit einem Input oder einem
Output versehen. Ebenfalls zulässig ist eine Transitionsbeschriftung mit
$\tau$, einer \emph{internen}, unbeobachtbaren \emph{Aktion}. Diese interne
Aktion lässt also keine Interaktion mit der Umwelt zu. In~\cite{Vogler2014EIO}
entsteht das $\tau$ in vielen Fällen durch das Verbergen der Inputs und
Outputs, da diese in einer Komposition synchronisiert wurden. Hier werden diese
Aktionen hingegen nicht verborgen. Jedoch werden wir im weiteren Verlauf noch
das Hiding betrachten, in dem Outputs durch interne Aktionen ersetzt werden.

\begin{Def}[Error-IO-Transitionssystem]
  Ein \emph{Error-IO-Transitionssystem \linebreak (\EIO{})} ist
  ein Tupel $S=(Q,I,O,\delta, q_0, E)$, mit den Komponenten:
  \begin{itemize}
    \item $Q$ $-$ die Menge der Zustände,
    \item $I,O$ $-$ die disjunkten Mengen der (sichtbaren) Input- und
      Outputaktionen,
    \item $\delta\subseteq Q\times (I\cup O\cup\{\tau\})\times Q$ $-$ die
      Übergangsrelation,
    \item $q_0\in Q$ $-$ der Startzustand,
    \item $E\subseteq Q$ $-$ die Menge der Error-Zustände.
  \end{itemize}
\end{Def}

Die \emph{Aktionsmenge} eines \EIO{}s $S$ ist $\Sigma = I\cup O$ und die
\emph{Signatur} $Sig(S)=(I,O)$.\\
Um in graphischen Veranschaulichungen Inputs und Outputs zu unterscheiden wird
folgende Notation verwendet: $x?$ für den Input $x$ und $x!$ für den Output
$x$. Falls ein $x$ ohne $?$ oder $!$ verwendet wird, steht dies für eine
Aktion, bei der nicht festgelegt ist, ob sie ein Input oder ein Output ist.\\
Um die Komponenten der entsprechenden Transitionssystem zuzuordnen, werden für
die Komponenten die gleichen Indizes wie für ihr zugehöriges System verwendet,
z.B.\ schreiben wir $I_1$ für die Inputmenge des Transitionssystem $S_1$. Diese
Notation verwenden wir später analog für die Sprachen eines Systems.\\
Die Elemente der Übergangsrelation $\delta$ werden wir wie folgt notieren:
\begin{itemize}
  \item $p\overset{\alpha}{\rightarrow} q$ für $(p,\alpha ,q)\in\delta$,
  \item $p\overset{\alpha}{\rightarrow}$ für $\exists q: (p,\alpha ,q)\in\delta$,
  \item $p\overset{w}{\rightarrow} q$ für $p \overset{\alpha _1}{\rightarrow}
    p_1 \overset{\alpha _2}{\rightarrow} p_2\dots \overset{\alpha
    _n}{\rightarrow} q$ mit $w\in (\Sigma\cup\{\tau\})^*, w=\alpha _1\alpha
    _2\dots \alpha _n$,
  \item $p\overset{w}{\rightarrow}$ für $p \overset{\alpha _1}{\rightarrow}
    \overset{\alpha _2}{\rightarrow} \dots \overset{\alpha _n}{\rightarrow}$
    mit $w\in (\Sigma\cup\{\tau\})^*, w=\alpha _1\alpha _2\dots \alpha _n$,
  \item $w|_B$ steht für die Zeichenfolge, die aus $w$ entsteht durch Löschen
    aller Zeichen, die nicht in $B\subseteq\Sigma$ enthalten sind, d.h.\ es
    bezeichnet die Projektion von $w$ auf die Menge $B$,
  \item $p\overset{w}{\Rightarrow} q$ für $w\in\Sigma^*$ mit $\exists
    w'\in(\Sigma\cup\{\tau\})^*:w'|_{\Sigma}=w\wedge p\overset{w'}{\rightarrow}
    q$,
  \item $p\overset{w}{\Rightarrow}$ für $\exists q:p\overset{w}{\Rightarrow}
    q$.
\end{itemize}
Die \emph{Sprache} von $S$ ist
$L(S)=\{w\in\Sigma^*\mid q_0\overset{w}{\Rightarrow}\}$.

\section{Parallelkomposition}
Zwei \EIO{}s sind komponierbar, wenn ihre Outputmengen disjunkt sind. Die
Error-Zustän\-de der Parallelkomposition setzten sich aus den Error-Zuständen der
beiden zusammengesetzten Komponenten (geerbte Errors) und den
unsynchronisierbaren Outputs (neue Errors) zusammen.\\
In der folgenden Definition müssen wir eine Veränderung
gegenüber~\cite{Vogler2014EIO} vornehmen an der Menge der synchronisierten
Aktionen, da nicht mehr $I_1\cap I_2 =\emptyset$ gelten muss, werden wir
diese gemeinsamen Inputs synchronisieren.

\begin{Def}[Parallelkomposition]
  \label{DefParallelkomposition}
  Zwei \EIO{}s $S_1, S_2$ sind \emph{komponierbar}, falls
  $O_1\cap O_2=\emptyset$ gilt. Die \emph{Parallelkomposition} ist
  $S_1\|S_2=(Q,I,O,\delta ,q_0,E)$ mit den Komponenten:
  \begin{itemize}
    \item $Q=Q_1\times Q_2$,
    \item $I=(I_1\backslash O_2)\cup(I_2\backslash O_1)$,
    \item $O=O_1\cup O_2$,
    \item $q_0=(q_{01},q_{02})$,
    \item $\begin{aligned}[t]
    \delta =&\{((q_1,q_2),\alpha ,(p_1,q_2))\mid (q_1,\alpha ,p_1)\in\delta
      _1,\alpha\in(\Sigma _1\cup\{\tau\})\backslash Synch(S_1,S_2)\}\\
      &\cup\{((q_1,q_2),\alpha ,(q_1,p_2))\mid (q_2,\alpha ,p_2)\in\delta
      _2,\alpha\in(\Sigma _2\cup\{\tau\})\backslash Synch(S_1,S_2)\}\\
      &\cup\{((q_1,q_2),\alpha ,(p_1,p_2))\mid (q_1,\alpha ,p_1)\in\delta
      _1, (q_2,\alpha ,p_2)\in\delta _2, \alpha\in Synch(S_1,S_2)\},
  \end{aligned}$
    \item $\begin{aligned}[t]
        E=&(Q_1\times E_2)\cup (E_1\times Q_2)
        &&\phantom{neue}\mathrm{geerbte}~\mathrm{Errors}\\
        &\left.\begin{aligned}
        &\cup\{(q_1,q_2)\mid \exists a\in O_1\cap I_2: q_1\overset{a}{\rightarrow}\wedge
      q_2\overset{a}{\not{\hspace{-0.1cm}\rightarrow}}\}\\
      &\cup\{(q_1,q_2)\mid \exists a\in I_1\cap O_2:
q_1\overset{a}{\not{\hspace{-0.1cm}\rightarrow}}\wedge
q_2\overset{a}{\rightarrow}\}
\end{aligned}\hspace{1cm}\right\}
      &&\phantom{neue}\mathrm{neue}~\mathrm{Errors}.\\
  \end{aligned}$
  \end{itemize}
  Dabei werden die \emph{synchronisierten Aktionen} $Synch(S_1,
  S_2)=(I_1\cap O_2)\cup(O_1\cap I_2)\cup (I_1\cap I_2)$ nicht versteckt,
  sondern als Outputs der Komposition beibehalten.\\
  Wir nennen $S_1$ einen \emph{Partner} von $S_2$, wenn ihre
  Parallelkomposition geschlossen ist, d.h.\ wenn sie duale Signaturen haben
  $Sig(S_1)=(I,O)$ und $Sig(S_2)=(O,I)$.
\end{Def}

Die Parallelkomposition kann nicht nur für Transitionssysteme betrachtet
werden, sondern auch über Aktionsfolgen. \emph{Traces} sind die möglichen Wege
des Systems, während ein bestimmtes Wort verarbeitet wird. Dieses Wort besteht
aus Inputs und Outputs, mit denen die Folge ab dem Startzustand $q_0$
beschriftet ist.

\begin{Def}[Parallelkomposition auf Traces]
  Gegeben zwei \EIO{}s $S_1$ und $S_2$, sowie $w_1\in\Sigma _1, w_2\in\Sigma
  _2, W_1\subseteq\Sigma _1^*, W_2\subseteq\Sigma _2^*$:
  \begin{itemize}
    \item $w_1\| w_2:=\{w\in (\Sigma _1\cup\Sigma _2)^*\mid w|_{\Sigma _1}=w_1\wedge
      w|_{\Sigma _2}=w_2\}$,
    \item $W_1\| W_2:=\bigcup\hspace{1pt}\{w_1\| w_2\mid w_1\in W_1\wedge w_2\in W_2\}$.
  \end{itemize}
\end{Def}

Die Semantik der späteren Kapitel basiert darauf die jeweiligen Zustände, die
zu Problemen führen, mit den Traces zu betrachten, mit denen man diesem
Zustände erreicht. Um dies besser umsetzten zu können, definieren wir eine
$\prune{}$-Funktion, die alle Outputs am Ende eines Traces entfernt. Zusätzlich
werden Funktionen definiert, die die Traces beliebig fortsetzen.

\begin{Def}[Pruning- und Fortsetzungs-Funktion]
  Für ein \EIO{} $S$ definieren wir:
  \begin{itemize}
    \item $\prune{}:\Sigma ^*\rightarrow\Sigma ^*, w\mapsto u$, mit $w=uv,
      u=\varepsilon\vee u\in\Sigma ^*\cdot I$ und $v\in O^*$,
    \item $\cont{}:\Sigma ^*\rightarrow\mathfrak{P}(\Sigma ^*),
      w\mapsto\{wu\mid u\in\Sigma ^*\}$,
    \item $\cont{}:\mathfrak{P}(\Sigma ^*)\rightarrow\mathfrak{P}(\Sigma ^*),
      L\mapsto\bigcup\hspace{1pt}\{\cont{}(w)\mid w\in L\}$.
  \end{itemize}
\end{Def}

Für zwei komponierbare \EIO{}s $S_1$ und $S_2$ ist ein Ablauf ihrer
Parallelkomposition $S_{12}=S_1\| S_2$ eine Transitionsfolge der Form $(p_1,p_2)
\overset{w}{\Rightarrow} (q_1,q_2)$ für ein $w\in\Sigma_{12}^*$. So ein Ablauf
kann auf Abläufe von $S_1$ und $S_2$ projiziert werden. Diese Projektionen
erfüllen $p_i \overset{w_i}{\Rightarrow} q_i$ mit $w|_{\Sigma
_i}=w_i$ für $i=1,2$. Umgekehrt sind zwei Abläufe von $S_1$ und $S_2$ der Form
$p_i \overset{w_i}{\Rightarrow} q_i$ mit $w| _{\Sigma _i}= w_i$ für $i=1,2$,
Projektionen von genau einem Ablauf in $S_{12}$ der Form $(p_1,p_2)
\overset{w}{\Rightarrow} (q_1.q_2)$. Es ist dafür nötig, dass die Abläufe der
beiden Systeme und die Systeme selbst komponierbar sind. Dadurch, dass wir
ein $w$ wählen, dass projiziert auf die einzelnen Alphabete die jeweiligen
Wörter ergibt, können wir auch sagen, dass nur ein Ablauf möglich ist. Daraus
ergibt sich das folgende Lemma.

\begin{lem}[Sprache der Parallelkomposition]
  \label{LemmaSprache}
  Für zwei komponierbare \EIO{}s $S_1$ und $S_2$ gilt: \[L_{12} := L(S_1\|S_2) =
  L(S_1)\|L(S_2).\]
\end{lem}

\section{Hiding}

Hiding wurde bereist in~\cite{Chilton2013} auf Traces betrachtet. Da wir hier
aber unsere Betrachtungsweise von Transitionssystemen aus starten, werden
wir auch Hiding aus der Sicht dieser Systeme definieren, wie
in~\cite{Schlosser2012BA}. Eine ähnliche Betrachtung für Hiding bei \EIO{}s
wurde auch bereits in~\cite{Lynch1996} umgesetzt. Dort werden nur Output
Aktionen internalisiert, jedoch gibt es eine Menge an internen Aktionen und
nicht nur eine. Das Hiding wird durch einen Internalisierungsoperator
umgesetzt. Es sollen dadurch Aktionen versteckt werden können, d.h.\ durch
$\tau$s ersetzt werden. In~\cite{Chilton2013} ist es in der Definition des
Hidings möglich Outputs und Inputs zu verstecken. Durch das verstecken von
Outputs sind diese nur nicht mehr nach Außen sichtbar. Werden jedoch Inputs
versteckt, sind alle Traces, die diesen Input benötigen nicht mehr ausführbar.
Sie sind dann ab dem versteckten Input nicht mehr weiterführbar. Somit werden
wir in unserer Definition nur die Internalisierung von Outputs erlauben und uns
deshalb an~\cite{Schlosser2012BA} als Quelle halten.

\begin{Def}[Internalisierungsoperator]
  Für ein \EIO{} $S=(Q,I,O,\delta ,q_0.E)$ ist $S/\{x_1,x_2,\dots ,x_n\}$, mit
  %$x_1,x_2, \dots , x_n\in O\cup\mathrm{andere}~\mathrm{Aktionen}\backslash
  %(\Sigma\cup \tau)$ und
  dem \emph{Internalisierungsoperator} $\cdot /\cdot$,
  definiert als $S'=(Q,I,O',\delta ',\linebreak q_0,E)$ mit:
  \begin{itemize}
    \item $O'=O\backslash \{x_1,x_2,\dots ,x_n\}$
    \item $\delta '=(\delta\cup\{(q,\tau ,q')\mid (q,x,q')\in\delta
      ,x\in(\{x_1,x_2,\dots ,x_n\}\cap O)\})\backslash \{(q,x,q')\mid
      x\in(\{x_1,x_2,\dots ,x_n\}\cap O)\}$
  \end{itemize}
\end{Def}

Die Menge hinter dem Internalisierungsoperator ist nicht auf Outputs
beschränkt. Jedoch hat jedes Element, das in dieser Menge enthalten ist und
kein Output des Systems ist, keine Auswirkungen auf das neue
Transitionssystem.\\
In~\cite{Vogler2014EIO} wurden die Parallelkomposition nur mit Verbergen der
synchronisierten Aktionen betrachtet. Diese Parallelkomposition können wir nun
mit dem Internalisierungsoperator durch Hiding der synchronisierten Aktionen
nachbilden. Da diese synchronisierten Aktionen in der Parallelkomposition dieser
Arbeit als Outputs des Gesamtsystems übernommen werden, werden dadurch auch
alle synchronisierten Aktionen verborgen.

\begin{Def}[Parallelkomposition mit Internalisierung]
  \label{defIntParal}
  Seinen $S_1$ und $S_2$ komponierbare \EIO{}s, dann ist
  $S_1|S_2=(S_1\|S_2)/Synch(S_1,S_2)$.
\end{Def}
